{% extends "base.html" %}

{% block title %}{% if animal %}Editar{% else %}Registrar{% endif %} Animal - Veterinaria{% endblock %}

{% block content %}
<!-- Encabezado -->
<div class="bg-gradient-to-r from-purple-600 to-purple-800 text-white rounded-lg shadow-lg mb-6 p-6">
    <div class="flex items-center">
        <i class="fas fa-{% if animal %}edit{% else %}plus-circle{% endif %} text-4xl mr-4"></i>
        <div>
            <h2 class="text-3xl font-bold">{% if animal %}Editar{% else %}Registrar{% endif %} Animal</h2>
            <p class="text-purple-100 mt-1">{% if animal %}Modifica la informaci√≥n del animal{% else %}Registra un nuevo animal en el sistema{% endif %}</p>
        </div>
    </div>
</div>

<div class="bg-white shadow-lg rounded-lg max-w-4xl mx-auto">
    <form method="POST" action="{% if animal %}{{ url_for('consultas.editar_animal', id=animal.id) }}{% else %}{{ url_for('consultas.crear_animal') }}{% endif %}" class="p-8">
        <!-- Informaci√≥n del Animal -->
        <div class="mb-8">
            <div class="flex items-center mb-6 pb-4 border-b-2 border-purple-200">
                <div class="bg-purple-100 rounded-full p-3 mr-3">
                    <i class="fas fa-paw text-purple-600 text-xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-800">Informaci√≥n del Animal</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Nombre del Animal -->
                <div class="md:col-span-2">
                    <label for="nombre" class="block text-lg font-bold text-gray-700 mb-2">
                        <i class="fas fa-paw mr-2 text-purple-600"></i>Nombre del Animal *
                    </label>
                    <input type="text" 
                           id="nombre" 
                           name="nombre" 
                           required
                           value="{% if animal %}{{ animal.nombre }}{% endif %}"
                           class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-purple-500 focus:border-purple-500 transition-all"
                           placeholder="Ej: Max, Luna, Rocky">
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>Nombre con el que identificas al animal
                    </p>
                </div>

                <!-- Especie -->
                <div>
                    <label for="especie" class="block text-lg font-bold text-gray-700 mb-2">
                        <i class="fas fa-dog mr-2 text-purple-600"></i>Especie *
                    </label>
                    <select id="especie" 
                            name="especie" 
                            required
                            class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-purple-500 focus:border-purple-500">
                        <option value="">Seleccione la especie...</option>
                        <option value="Perro" {% if animal and animal.especie == 'Perro' %}selected{% endif %}>üêï Perro</option>
                        <option value="Gato" {% if animal and animal.especie == 'Gato' %}selected{% endif %}>üê± Gato</option>
                        <option value="Conejo" {% if animal and animal.especie == 'Conejo' %}selected{% endif %}>üê∞ Conejo</option>
                        <option value="Ave" {% if animal and animal.especie == 'Ave' %}selected{% endif %}>üê¶ Ave</option>
                        <option value="Roedor" {% if animal and animal.especie == 'Roedor' %}selected{% endif %}>üêπ Roedor</option>
                        <option value="Otro" {% if animal and animal.especie == 'Otro' %}selected{% endif %}>‚ùì Otro</option>
                    </select>
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>Tipo de animal
                    </p>
                </div>

                <!-- Raza -->
                <div>
                    <label for="raza" class="block text-lg font-bold text-gray-700 mb-2">
                        <i class="fas fa-dna mr-2 text-purple-600"></i>Raza
                    </label>
                    <input type="text" 
                           id="raza" 
                           name="raza" 
                           value="{% if animal %}{{ animal.raza }}{% endif %}"
                           class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-purple-500 focus:border-purple-500"
                           placeholder="Ej: Labrador, Persa, etc.">
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>Raza del animal (opcional)
                    </p>
                </div>

                <!-- Edad -->
                <div class="md:col-span-2">
                    <label class="block text-lg font-bold text-gray-700 mb-3">
                        <i class="fas fa-birthday-cake mr-2 text-purple-600"></i>Edad del Animal
                    </label>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label for="edad_anos" class="block text-sm font-semibold text-gray-600 mb-2">A√±os</label>
                            <input type="number" 
                                   id="edad_anos" 
                                   name="edad_anos" 
                                   min="0"
                                   max="50"
                                   value="{% if animal %}{{ animal.edad_anos or 0 }}{% else %}0{% endif %}"
                                   class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-purple-500 focus:border-purple-500"
                                   placeholder="0">
                        </div>
                        <div>
                            <label for="edad_meses" class="block text-sm font-semibold text-gray-600 mb-2">Meses</label>
                            <input type="number" 
                                   id="edad_meses" 
                                   name="edad_meses" 
                                   min="0"
                                   max="11"
                                   value="{% if animal %}{{ animal.edad_meses or 0 }}{% else %}0{% endif %}"
                                   class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-purple-500 focus:border-purple-500"
                                   placeholder="0">
                        </div>
                    </div>
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>Indica la edad aproximada del animal
                    </p>
                </div>
            </div>
        </div>

        <!-- Datos del Due√±o -->
        <div class="mb-8">
            <div class="flex items-center mb-6 pb-4 border-b-2 border-blue-200">
                <div class="bg-blue-100 rounded-full p-3 mr-3">
                    <i class="fas fa-user text-blue-600 text-xl"></i>
                </div>
                <h3 class="text-2xl font-bold text-gray-800">Datos del Due√±o</h3>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Nombre del Due√±o -->
                <div class="md:col-span-2">
                    <label for="nombre_dueno" class="block text-lg font-bold text-gray-700 mb-2">
                        <i class="fas fa-user mr-2 text-blue-600"></i>Nombre del Due√±o *
                    </label>
                    <input type="text" 
                           id="nombre_dueno" 
                           name="nombre_dueno" 
                           required
                           value="{% if animal %}{{ animal.nombre_dueno }}{% endif %}"
                           class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition-all"
                           placeholder="Nombre completo del due√±o">
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>Nombre completo de la persona responsable del animal
                    </p>
                </div>

                <!-- Tel√©fono -->
                <div class="md:col-span-2">
                    <label for="telefono_dueno" class="block text-lg font-bold text-gray-700 mb-2">
                        <i class="fas fa-phone mr-2 text-blue-600"></i>Tel√©fono de Contacto
                    </label>
                    <input type="text" 
                           id="telefono_dueno" 
                           name="telefono_dueno" 
                           value="{% if animal %}{{ animal.telefono_dueno }}{% endif %}"
                           class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition-all"
                           placeholder="Ej: 3001234567">
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>N√∫mero de tel√©fono para contactar al due√±o (opcional)
                    </p>
                </div>

                <!-- Notas -->
                <div class="md:col-span-2">
                    <label for="notas" class="block text-lg font-bold text-gray-700 mb-2">
                        <i class="fas fa-sticky-note mr-2 text-blue-600"></i>Notas Generales
                    </label>
                    <textarea id="notas" 
                              name="notas" 
                              rows="4"
                              class="w-full px-5 py-4 text-lg border-2 border-gray-300 rounded-lg focus:ring-4 focus:ring-blue-500 focus:border-blue-500 transition-all"
                              placeholder="Informaci√≥n adicional sobre el animal, alergias, condiciones especiales, etc.">{% if animal %}{{ animal.notas or '' }}{% endif %}</textarea>
                    <p class="mt-2 text-sm text-gray-500">
                        <i class="fas fa-info-circle mr-1"></i>Informaci√≥n adicional que consideres importante (opcional)
                    </p>
                </div>
            </div>
        </div>

        <!-- Botones de acci√≥n -->
        <div class="flex justify-end gap-4 pt-6 border-t-2 border-gray-200">
            <a href="{% if animal %}{{ url_for('consultas.historia_clinica', id=animal.id) }}{% else %}{{ url_for('consultas.listar') }}{% endif %}" 
               class="px-8 py-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-bold text-lg">
                <i class="fas fa-times mr-2"></i>Cancelar
            </a>
            <button type="submit" 
                    class="px-8 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors font-bold text-lg shadow-lg">
                <i class="fas fa-save mr-2"></i>{% if animal %}Actualizar{% else %}Guardar{% endif %} Animal
            </button>
        </div>
    </form>
</div>
{% endblock %}
